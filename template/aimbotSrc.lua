return function(a)local b=a.Services;local c=a.References;local d=a.Tabs;local e=a.Library;local f=a.Unloader;local g=a.AimbotConfig or{}if g.Enabled~=nil and g.Enabled~=true then return end;local h=b.Players;local i=b.Workspace;local j=b.RunService;local k=b.UserInputService;local l=h.LocalPlayer;local function m()return i.CurrentCamera end;local n=g.Defaults or g.defaults or{}local function o(p,q)local r=n[p]if r==nil then r=g[p]end;if r==nil then r=q end;return r end;local function s(t,q)if typeof(t)=="Color3"then return t end;if type(t)=="table"then local u,v,w=t[1],t[2],t[3]if type(u)=="number"and type(v)=="number"and type(w)=="number"then if u>1 or v>1 or w>1 then return Color3.fromRGB(u,v,w)end;return Color3.new(u,v,w)end end;return q end;local function x(t)if typeof(t)=="EnumItem"then return t end;if type(t)=="string"then return Enum.KeyCode[t]or Enum.UserInputType[t]or Enum.KeyCode.Q end;return Enum.KeyCode.Q end;local y={}local function z(t)if not t then return{}end;if typeof(t)=="string"then return{t}end;if typeof(t)~="table"then return{}end;local A={}if#t>0 then for B,C in ipairs(t)do if typeof(C)=="string"then table.insert(A,C)end end;return A end;for D,C in pairs(t)do if C and typeof(D)=="string"then table.insert(A,D)end end;return A end;local function E(F,r)return F and table.find(F,r)~=nil end;y.AimbotEnabled=o("AimbotEnabled",false)y.AimKey=x(o("AimKey",Enum.KeyCode.Q))y.FOV=o("FOV",100)y.FOVColor=s(o("FOVColor",Color3.fromRGB(255,255,255)),Color3.fromRGB(255,255,255))y.FOVCircleVisible=o("FOVCircleVisible",false)y.FOVFilled=o("FOVFilled",false)y.FOVTransparency=o("FOVTransparency",1)y.Smoothness=o("Smoothness",0.5)y.Prediction=o("Prediction",0)y.DropCompensation=o("DropCompensation",0)local G=o("TargetParts",{"Head"})if type(G)=="string"then G={G}end;y.TargetParts=type(G)=="table"and G or{"Head"}y.BodyChance=o("BodyChance",0)y.TargetTypes=z(o("TargetTypes",{"Enemy Players"}))if#y.TargetTypes==0 then y.TargetTypes={"Enemy Players"}end;y.WallCheck=o("WallCheck",false)y.MobileAutoAim=o("MobileAutoAim",false)y.ShowAimLine=o("ShowAimLine",false)if y.FOVCircle and y.FOVCircle.Remove then y.FOVCircle:Remove()end;if y.AimLine and y.AimLine.Remove then y.AimLine:Remove()end;y.FOVCircle=Drawing.new("Circle")y.FOVCircle.Thickness=1;y.FOVCircle.NumSides=64;y.FOVCircle.Filled=false;y.FOVCircle.ZIndex=2;y.AimLine=Drawing.new("Line")y.AimLine.Visible=false;y.AimLine.Color=Color3.fromRGB(255,0,0)y.AimLine.Thickness=1;y.AimLine.Transparency=1;if y.Highlight then y.Highlight:Destroy()end;y.Highlight=Instance.new("Highlight")do local H=y.Highlight;H.Name="AimbotTargetHighlight"H.FillColor=Color3.new(1,0,0)H.FillTransparency=0.5;H.OutlineColor=Color3.new(1,1,1)H.OutlineTransparency=0;H.DepthMode=Enum.HighlightDepthMode.AlwaysOnTop;H.Enabled=false;local I=gethui and gethui()or game:GetService("CoreGui")if H.Parent~=I then H.Parent=I end end;local function J()return k:GetMouseLocation()end;local function K()local L=J()y.FOVCircle.Position=L;y.FOVCircle.Radius=y.FOV;y.FOVCircle.Color=y.FOVColor;y.FOVCircle.Visible=y.FOVCircleVisible and y.AimbotEnabled;y.FOVCircle.Filled=y.FOVFilled;y.FOVCircle.Transparency=y.FOVTransparency end;local M=RaycastParams.new()M.FilterType=Enum.RaycastFilterType.Exclude;local function N(O)if not y.WallCheck then return true end;local P=m()if not P or not O then return false end;local Q={l.Character,P}M.FilterDescendantsInstances=Q;local R=P.CFrame.Position;local S=O.Position-R;local T=i:Raycast(R,S,M)if not T then return true end;if T.Instance:IsDescendantOf(O.Parent)then return true end;return false end;local function U(V)if not V then return false end;if not l.Team or not V.Team then return true end;return V.Team~=l.Team end;local function W()local X={}local Y=y.TargetTypes or{"Enemy Players"}local Z=E(Y,"Enemy Players")local _=E(Y,"Friendly Players")local a0=E(Y,"NPCs")if Z or _ then for B,a1 in ipairs(h:GetPlayers())do if a1~=l and a1.Character then local a2=a1.Character:FindFirstChildOfClass("Humanoid")if a2 and a2.Health>0 then local a3=U(a1)if Z and a3 then table.insert(X,a1.Character)elseif _ and not a3 then table.insert(X,a1.Character)end end end end end;if a0 then local a4=i:FindFirstChild("NPCS")or i:FindFirstChild("NPCs")or i:FindFirstChild("Mobs")if a4 then for B,a5 in ipairs(a4:GetDescendants())do if a5:IsA("Model")and a5:FindFirstChildOfClass("Humanoid")then table.insert(X,a5)end end end end;return X end;local function a6(a7)local a8=y.TargetParts[1]or"Head"if math.random(1,100)<=(y.BodyChance or 0)then return a7:FindFirstChild("HumanoidRootPart")or a7:FindFirstChild("Torso")or a7:FindFirstChild("UpperTorso")end;return a7:FindFirstChild(a8)or a7:FindFirstChild("Head")or a7:FindFirstChild("HumanoidRootPart")or a7:FindFirstChildWhichIsA("BasePart")end;local function a9()local P=m()if not P then return nil end;local L=J()local aa,ab=nil,math.huge;for B,a7 in ipairs(W())do local O=a6(a7)if O and N(O)then local ac,ad=P:WorldToViewportPoint(O.Position)if ad then local ae=(Vector2.new(ac.X,ac.Y)-L).Magnitude;if ae<=y.FOV and ae<ab then aa=a7;ab=ae end end end end;return aa end;local function af(a7)local P=m()if not P then return end;local O=a6(a7)if not O then return end;local ag=P.CFrame;local R=ag.Position;local ah=O.AssemblyLinearVelocity or O.Velocity or Vector3.zero;local ai=O.Position+ah*y.Prediction;local aj=(ai-R).Magnitude;ai=ai+Vector3.new(0,aj/100*y.DropCompensation,0)local ak=CFrame.lookAt(R,ai)local al=math.clamp(1-y.Smoothness,0.01,1)P.CFrame=P.CFrame:Lerp(ak,al)if y.ShowAimLine then local am=P.ViewportSize;y.AimLine.From=Vector2.new(am.X*0.5,am.Y)local an=P:WorldToViewportPoint(ai)y.AimLine.To=Vector2.new(an.X,an.Y)y.AimLine.Visible=true else y.AimLine.Visible=false end end;local function ao()if k.TouchEnabled then return y.MobileAutoAim end;if k:IsKeyDown(y.AimKey)then return true end;if k:IsMouseButtonPressed(Enum.UserInputType.MouseButton2)then return true end;if y.AimKey==Enum.UserInputType.MouseButton2 and k:IsMouseButtonPressed(Enum.UserInputType.MouseButton2)then return true end;return false end;local ap=j.RenderStepped:Connect(K)local aq=j.RenderStepped:Connect(function()if not y.AimbotEnabled then y.Highlight.Enabled=false;y.Highlight.Adornee=nil;y.AimLine.Visible=false;return end;local ar=a9()if ar then y.Highlight.Adornee=ar;y.Highlight.Enabled=true else y.Highlight.Enabled=false;y.Highlight.Adornee=nil;y.AimLine.Visible=false end;if ar and ao()then af(ar)else y.AimLine.Visible=false end end)local as=d.Combat:AddLeftGroupbox("Aimbot","target")as:AddToggle("AB_Enable",{Text="Enable Aimbot",Default=y.AimbotEnabled,Callback=function(C)y.AimbotEnabled=C end})as:AddDropdown("AB_TargetTypes",{Text="Targets",Values={"Enemy Players","Friendly Players","NPCs"},Default=y.TargetTypes,Multi=true,Callback=function(C)y.TargetTypes=z(C)end})as:AddDropdown("AB_TargetParts",{Text="Primary Part",Values={"Head","HumanoidRootPart","UpperTorso","Torso"},Default=y.TargetParts[1]or"Head",Callback=function(C)y.TargetParts={C}end})as:AddDivider()as:AddToggle("AB_DrawFOV",{Text="Draw FOV Circle",Default=y.FOVCircleVisible,Callback=function(C)y.FOVCircleVisible=C end}):AddColorPicker("AB_FOVColor",{Default=y.FOVColor,Title="FOV Color",Callback=function(C)y.FOVColor=C end})as:AddSlider("AB_FOVRadius",{Text="FOV Radius",Default=y.FOV,Min=10,Max=800,Rounding=0,Callback=function(C)y.FOV=C end})as:AddDivider()as:AddSlider("AB_Smoothness",{Text="Smoothness",Default=y.Smoothness,Min=0,Max=0.98,Rounding=2,Tooltip="0 = Instant Lock, 0.9 = Very Smooth/Slow",Callback=function(C)y.Smoothness=C end})as:AddSlider("AB_Prediction",{Text="Prediction",Default=y.Prediction,Min=0,Max=1,Rounding=2,Callback=function(C)y.Prediction=C end})as:AddToggle("AB_WallCheck",{Text="Wall Check",Default=y.WallCheck,Callback=function(C)y.WallCheck=C end})as:AddLabel("Aim Key"):AddKeyPicker("AB_AimKey",{Default=y.AimKey.Name or"Q",Text="Aim Key",Mode="Hold",ChangedCallback=function(p)y.AimKey=p end})local at={}function at.Unload()if ap then ap:Disconnect()end;if aq then aq:Disconnect()end;if y.FOVCircle then y.FOVCircle:Remove()end;if y.AimLine then y.AimLine:Remove()end;if y.Highlight then y.Highlight:Destroy()end end;if f and f.Register then f:Register(function()at.Unload()end)end;return at end
