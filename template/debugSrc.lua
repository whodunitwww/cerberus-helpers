return function(a)local b=a.Services;local c=a.References;local d=a.ModuleData or{}local e=a.ScriptVersion or"unknown"local f=game:GetService("TweenService")local g=game:GetService("Lighting")local h="https://discord.gg/YOUR_INVITE_HERE"local i={Background=Color3.fromRGB(10,11,13),Panel=Color3.fromRGB(18,18,20),TextPrimary=Color3.fromRGB(240,240,240),TextSecondary=Color3.fromRGB(160,160,160),Accent=Color3.fromRGB(0,230,115),AccentDim=Color3.fromRGB(0,170,90),Error=Color3.fromRGB(255,80,80)}local j={"Allocating memory resources...","Verifying script integrity...","Initializing core subsystems...","Linking libraries...","Optimizing environment...","Registering callbacks...","Loading configuration...","Establishing hooks...","Parsing runtime data..."}local k={StartTime=tick(),Events={},MaxEvents=160,CrashGui=nil,LoadingGui=nil,LoadingBlur=nil,LoadingPanelGroup=nil,LoadingStatusLabel=nil,LoadingProgressFill=nil,LoadingPercentLabel=nil,LoadingValue=0,LoadingTarget=0,LoadingBootAdvance=0,LoadingBootPhase=false,LoadingBootExpectedSteps=65,LoadingFetchMax=0.45}local function l()local m,n=pcall(os.date,"!%Y-%m-%d %H:%M:%S UTC")return m and n or"unknown-time"end;local function o(p,q)p=tostring(p or"")if#p<=q then return p end;return p:sub(1,q-3).."..."end;local function r(s)local t=string.format("%s | %s",l(),s)k.Events[#k.Events+1]=t;if#k.Events>k.MaxEvents then table.remove(k.Events,1)end;print("[Cerberus/Debug] "..s)end;local function u()return j[math.random(1,#j)]end;function k:_setLoadingValue(v)local w=math.clamp(tonumber(v)or 0,0,1)self.LoadingValue=w;if self.LoadingProgressFill then f:Create(self.LoadingProgressFill,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{Size=UDim2.fromScale(w,1)}):Play()end;if self.LoadingPercentLabel then self.LoadingPercentLabel.Text=string.format("%d%%",math.floor(w*100+0.5))end end;function k:_approachLoading(x)local y=math.clamp(tonumber(x)or 0,0,1)local z=self.LoadingValue or 0;local A=0.05;if y>z+A then y=z+A end;self:_setLoadingValue(y)end;function k:Log(B,C)local D=tostring(B or"INFO")local E=tostring(C or"")r(string.format("[%s] %s",D,E))if self.LoadingStatusLabel then if D=="STEP"or D=="INFO"then self.LoadingStatusLabel.Text=u()else if E:lower():find("module")then self.LoadingStatusLabel.Text="Initializing module..."else self.LoadingStatusLabel.Text=E end end end;if self.LoadingGui and self.LoadingGui.Parent and self.LoadingBootPhase and D~="CACHE"then self.LoadingBootAdvance=self.LoadingBootAdvance+1;local F=1.0-self.LoadingFetchMax;local G=math.min(self.LoadingBootAdvance/self.LoadingBootExpectedSteps,1)local x=self.LoadingFetchMax+F*G;self:_approachLoading(x)end end;function k:ShowLoading(C)if self.LoadingGui and self.LoadingGui.Parent then return end;local H=gethui and gethui()or game:GetService("CoreGui")if not H then return end;local I=Instance.new("ScreenGui")I.Name="CerberusLoadingGui"I.ResetOnSpawn=false;I.IgnoreGuiInset=true;I.DisplayOrder=9999;I.Parent=H;self.LoadingGui=I;self.LoadingValue=0;self.LoadingBootAdvance=0;self.LoadingBootPhase=false;local J=Instance.new("BlurEffect")J.Name="CerberusLoadingBlur"J.Size=0;J.Parent=g;self.LoadingBlur=J;local K=Instance.new("Frame")K.Size=UDim2.fromScale(1,1)K.BackgroundColor3=Color3.fromRGB(0,0,0)K.BackgroundTransparency=1;K.BorderSizePixel=0;K.Parent=I;local L=Instance.new("CanvasGroup")L.AnchorPoint=Vector2.new(0.5,0.5)L.Position=UDim2.fromScale(0.5,0.55)L.Size=UDim2.fromOffset(500,200)L.BackgroundColor3=i.Panel;L.BorderSizePixel=0;L.GroupTransparency=1;L.Parent=K;self.LoadingPanelGroup=L;local M=Instance.new("UICorner")M.CornerRadius=UDim.new(0,10)M.Parent=L;local N=Instance.new("UIStroke")N.Thickness=2;N.Transparency=0;N.Parent=L;local O=Instance.new("UIGradient")O.Color=ColorSequence.new({ColorSequenceKeypoint.new(0,i.AccentDim),ColorSequenceKeypoint.new(0.5,i.Accent),ColorSequenceKeypoint.new(1,i.AccentDim)})O.Rotation=45;O.Parent=N;local P=Instance.new("TextLabel")P.BackgroundTransparency=1;P.Position=UDim2.fromOffset(24,24)P.Size=UDim2.new(1,-48,0,26)P.Font=Enum.Font.GothamBold;P.TextSize=26;P.TextColor3=i.TextPrimary;P.TextXAlignment=Enum.TextXAlignment.Left;P.Text="CERBERUS"P.Parent=L;local Q=Instance.new("TextLabel")Q.BackgroundTransparency=1;Q.Position=UDim2.fromOffset(24,54)Q.Size=UDim2.new(1,-48,0,18)Q.Font=Enum.Font.Gotham;Q.TextSize=13;Q.TextColor3=i.Accent;Q.TextXAlignment=Enum.TextXAlignment.Left;Q.Text="INITIALIZING ENVIRONMENT"Q.Parent=L;local R=Instance.new("TextLabel")R.BackgroundTransparency=1;R.Position=UDim2.fromOffset(24,85)R.Size=UDim2.new(1,-48,0,40)R.Font=Enum.Font.Code;R.TextSize=13;R.TextWrapped=true;R.TextColor3=i.TextSecondary;R.TextXAlignment=Enum.TextXAlignment.Left;R.TextYAlignment=Enum.TextYAlignment.Top;R.Text="Starting up..."R.Parent=L;self.LoadingStatusLabel=R;local S=Instance.new("Frame")S.Position=UDim2.new(0,24,1,-40)S.Size=UDim2.new(1,-100,0,10)S.BackgroundColor3=Color3.fromRGB(30,30,35)S.BorderSizePixel=0;S.Parent=L;local T=Instance.new("UICorner")T.CornerRadius=UDim.new(1,0)T.Parent=S;local U=Instance.new("Frame")U.Size=UDim2.fromScale(0,1)U.BackgroundColor3=i.Accent;U.BorderSizePixel=0;U.Parent=S;local V=Instance.new("UIStroke")V.Color=i.Accent;V.Transparency=0.6;V.Thickness=3;V.Parent=U;local W=Instance.new("UICorner")W.CornerRadius=UDim.new(1,0)W.Parent=U;local X=Instance.new("UIGradient")X.Color=ColorSequence.new({ColorSequenceKeypoint.new(0,i.AccentDim),ColorSequenceKeypoint.new(1,i.Accent)})X.Parent=U;self.LoadingProgressFill=U;local Y=Instance.new("TextLabel")Y.BackgroundTransparency=1;Y.Position=UDim2.new(1,-65,1,-47)Y.Size=UDim2.fromOffset(50,24)Y.Font=Enum.Font.GothamBold;Y.TextSize=16;Y.TextColor3=i.Accent;Y.TextXAlignment=Enum.TextXAlignment.Right;Y.Text="0%"Y.Parent=L;self.LoadingPercentLabel=Y;local Z=TweenInfo.new(0.6,Enum.EasingStyle.Exponential,Enum.EasingDirection.Out)f:Create(J,Z,{Size=15}):Play()f:Create(K,Z,{BackgroundTransparency=0.4}):Play()f:Create(L,Z,{GroupTransparency=0,Position=UDim2.fromScale(0.5,0.5)}):Play()self:_setLoadingValue(0.01)end;function k:SetLoadingProgress(z,_,C)if C and self.LoadingStatusLabel then if type(C)=="string"and C:lower():find("module")then self.LoadingStatusLabel.Text="Loading external resource..."else self.LoadingStatusLabel.Text=tostring(C)end end;if not self.LoadingProgressFill then return end;local a0=tonumber(z)or 0;local y=tonumber(_)or 0;local v=0;if y>0 then v=math.clamp(a0/y,0,1)end;local a1=self.LoadingFetchMax*v;self:_approachLoading(a1)if v>=1 then self.LoadingBootPhase=true end end;function k:HideLoading()if not self.LoadingGui then return end;local a2=self.LoadingGui;local J=self.LoadingBlur;local L=self.LoadingPanelGroup;local K=a2:FindFirstChild("Frame")local Z=TweenInfo.new(0.8,Enum.EasingStyle.Exponential,Enum.EasingDirection.Out)if J then f:Create(J,Z,{Size=0}):Play()end;if K then f:Create(K,Z,{BackgroundTransparency=1}):Play()end;if L then f:Create(L,Z,{Position=UDim2.fromScale(0.5,0.45),GroupTransparency=1}):Play()for a3,a4 in ipairs(L:GetDescendants())do if a4:IsA("TextLabel")or a4:IsA("TextButton")then f:Create(a4,Z,{TextTransparency=1}):Play()elseif a4:IsA("ImageLabel")then f:Create(a4,Z,{ImageTransparency=1}):Play()elseif a4:IsA("UIStroke")then f:Create(a4,Z,{Transparency=1}):Play()elseif a4:IsA("Frame")then f:Create(a4,Z,{BackgroundTransparency=1}):Play()end end end;task.delay(0.85,function()if a2 then a2:Destroy()end;if J then J:Destroy()end;if self.LoadingGui==a2 then self.LoadingGui=nil;self.LoadingBlur=nil;self.LoadingPanelGroup=nil;self.LoadingStatusLabel=nil;self.LoadingProgressFill=nil;self.LoadingPercentLabel=nil;self.LoadingValue=0;self.LoadingBootAdvance=0;self.LoadingBootPhase=false end end)end;function k:FinalizeLoading(C)if C and self.LoadingStatusLabel then self.LoadingStatusLabel.Text="Ready."end;self.LoadingBootPhase=true;self:_setLoadingValue(1)task.delay(0.6,function()self:HideLoading()end)end;function k:GetRuntimeInfo()local a5=game.PlaceId or 0;local a6=game.JobId or"unknown"local a7=c and c.gameName or"Unknown"local a8=identifyexecutor and identifyexecutor()or"Unknown"local a9="n/a"local aa,ab=pcall(function()if b and b.Stats and b.Stats.Network then return tostring(b.Stats.Network.ServerStatsItem["Data Ping"]:GetValue())end;return"n/a"end)if aa and ab then a9=ab end;return{ScriptVersion=e,Executor=a8,GameName=tostring(a7),PlaceId=tostring(a5),JobId=tostring(a6),User=tostring(c and c.player and c.player.Name or"Unknown"),UserId=tostring(c and c.player and c.player.UserId or 0),RuntimeSeconds=string.format("%.2f",tick()-self.StartTime),FetchDone=tostring(d.FetchDone or"?"),FetchTotal=tostring(d.FetchTotal or"?"),CacheVersion=tostring(d.CacheVersion or"unknown"),Ping=a9}end;function k:BuildCrashReport(ac,ad)local ae=self:GetRuntimeInfo()local af={"Cerberus Crash Report","Please report this to the Cerberus team with this full report.","","Error Context","Label: "..tostring(ac),"Timestamp: "..l(),"","Environment","Script Version: "..ae.ScriptVersion,"Executor: "..ae.Executor,"Game: "..ae.GameName,"PlaceId: "..ae.PlaceId,"JobId: "..ae.JobId,"Player: "..ae.User.." ("..ae.UserId..")","Runtime (s): "..ae.RuntimeSeconds,"Dependencies: "..ae.FetchDone.."/"..ae.FetchTotal,"CacheVersion: "..ae.CacheVersion,"Ping: "..ae.Ping,"","Error",tostring(ad),"","Recent Debug Events"}for a3,ag in ipairs(self.Events)do af[#af+1]=ag end;return table.concat(af,"\n")end;function k:ShowCrashGui(ah)if self.CrashGui and self.CrashGui.Parent then return end;local H=gethui and gethui()or game:GetService("CoreGui")if not H then warn("[Cerberus/Debug] Could not render crash GUI (no parent).")return end;local I=Instance.new("ScreenGui")I.Name="CerberusCrashGui"I.ResetOnSpawn=false;I.IgnoreGuiInset=true;I.DisplayOrder=10000;I.Parent=H;self.CrashGui=I;local J=Instance.new("BlurEffect")J.Name="CrashBlur"J.Size=0;J.Parent=g;f:Create(J,TweenInfo.new(0.5),{Size=24}):Play()local K=Instance.new("Frame")K.Size=UDim2.fromScale(1,1)K.BackgroundColor3=Color3.fromRGB(5,5,7)K.BackgroundTransparency=1;K.BorderSizePixel=0;K.Parent=I;f:Create(K,TweenInfo.new(0.5),{BackgroundTransparency=0.3}):Play()local L=Instance.new("CanvasGroup")L.Name="MainPanel"L.AnchorPoint=Vector2.new(0.5,0.5)L.Size=UDim2.fromOffset(600,480)L.Position=UDim2.fromScale(0.5,0.55)L.BackgroundColor3=Color3.fromRGB(20,20,24)L.BorderSizePixel=0;L.GroupTransparency=1;L.Parent=K;f:Create(L,TweenInfo.new(0.5,Enum.EasingStyle.Back,Enum.EasingDirection.Out),{Position=UDim2.fromScale(0.5,0.5),GroupTransparency=0}):Play()local M=Instance.new("UICorner")M.CornerRadius=UDim.new(0,12)M.Parent=L;local N=Instance.new("UIStroke")N.Thickness=1.5;N.Transparency=0.0;N.Color=i.Error;N.Parent=L;local function ai()if I then I:Destroy()end;if J then J:Destroy()end;self.CrashGui=nil end;local P=Instance.new("TextLabel")P.BackgroundTransparency=1;P.Size=UDim2.new(1,-24,0,24)P.Position=UDim2.new(0,14,0,14)P.Font=Enum.Font.GothamBold;P.TextSize=22;P.TextColor3=i.Error;P.TextXAlignment=Enum.TextXAlignment.Left;P.Text="Cerberus Crash Report"P.Parent=L;local aj=Instance.new("TextLabel")aj.BackgroundTransparency=1;aj.Size=UDim2.new(1,-24,0,20)aj.Position=UDim2.new(0,14,0,40)aj.Font=Enum.Font.Gotham;aj.TextSize=13;aj.TextColor3=Color3.fromRGB(180,180,180)aj.TextXAlignment=Enum.TextXAlignment.Left;aj.Text="An error occurred. Please send this report to the developer."aj.Parent=L;local ak=Instance.new("ScrollingFrame")ak.Name="LogScroller"ak.Position=UDim2.new(0,12,0,70)ak.Size=UDim2.new(1,-24,1,-125)ak.BackgroundColor3=Color3.fromRGB(12,12,14)ak.ScrollBarThickness=6;ak.ScrollBarImageColor3=Color3.fromRGB(70,70,75)ak.BorderSizePixel=0;ak.CanvasSize=UDim2.new(0,0,0,0)ak.AutomaticCanvasSize=Enum.AutomaticSize.Y;ak.Parent=L;local al=Instance.new("UICorner")al.CornerRadius=UDim.new(0,6)al.Parent=ak;local am=Instance.new("UIListLayout")am.SortOrder=Enum.SortOrder.LayoutOrder;am.Padding=UDim.new(0,5)am.Parent=ak;local an=Instance.new("UIPadding")an.PaddingLeft=UDim.new(0,8)an.PaddingRight=UDim.new(0,8)an.PaddingTop=UDim.new(0,8)an.PaddingBottom=UDim.new(0,8)an.Parent=ak;local ao=Instance.new("TextBox")ao.Name="LogText"ao.MultiLine=true;ao.TextEditable=false;ao.ClearTextOnFocus=false;ao.BackgroundTransparency=1;ao.Size=UDim2.new(1,0,0,0)ao.AutomaticSize=Enum.AutomaticSize.Y;ao.Font=Enum.Font.Code;ao.TextSize=13;ao.TextColor3=Color3.fromRGB(220,220,220)ao.TextXAlignment=Enum.TextXAlignment.Left;ao.TextYAlignment=Enum.TextYAlignment.Top;ao.TextWrapped=true;ao.Text=o(ah,50000)ao.Parent=ak;local ap=Instance.new("Frame")ap.Name="Buttons"ap.BackgroundTransparency=1;ap.Size=UDim2.new(1,-24,0,36)ap.AnchorPoint=Vector2.new(0,1)ap.Position=UDim2.new(0,12,1,-12)ap.Parent=L;local aq=Instance.new("UIListLayout")aq.FillDirection=Enum.FillDirection.Horizontal;aq.SortOrder=Enum.SortOrder.LayoutOrder;aq.Padding=UDim.new(0,10)aq.Parent=ap;local function ar(as,at,au,av)local aw=Instance.new("TextButton")aw.Size=UDim2.new(0.32,0,1,0)aw.BackgroundColor3=at;aw.Text=as;aw.TextColor3=Color3.new(1,1,1)aw.Font=Enum.Font.GothamBold;aw.TextSize=12;aw.LayoutOrder=au;aw.Parent=ap;local a0=Instance.new("UICorner")a0.CornerRadius=UDim.new(0,6)a0.Parent=aw;aw.MouseButton1Click:Connect(av)return aw end;local ax=Instance.new("TextLabel")ar("Copy Report",Color3.fromRGB(38,87,255),1,function()local m=pcall(setclipboard,ah)ax.Text=m and"Copied Report!"or"Copy Failed."ax.TextColor3=m and Color3.fromRGB(100,255,100)or Color3.fromRGB(255,100,100)end)ar("Copy Discord",Color3.fromRGB(88,101,242),2,function()local m=pcall(setclipboard,h)ax.Text=m and"Copied Link!"or"Copy Failed."ax.TextColor3=m and Color3.fromRGB(88,101,242)or Color3.fromRGB(255,100,100)end)ar("Close",Color3.fromRGB(58,58,66),3,ai)ax.BackgroundTransparency=1;ax.AnchorPoint=Vector2.new(1,0)ax.Size=UDim2.new(0,200,0,20)ax.Position=UDim2.new(1,-14,0,16)ax.Font=Enum.Font.GothamBold;ax.TextSize=12;ax.TextColor3=Color3.fromRGB(255,255,255)ax.TextXAlignment=Enum.TextXAlignment.Right;ax.Text=""ax.Parent=L end;function k:HandleCrash(ac,ad)self:HideLoading()local ay=self:BuildCrashReport(ac,ad)warn("[Cerberus/Crash]\n"..ay)self:ShowCrashGui(ay)return ay end;function k:Try(ac,az)self:Log("STEP","Begin "..tostring(ac))local aA=table.pack(xpcall(az,function(aB)return debug.traceback(tostring(aB),2)end))if aA[1]==true then self:Log("STEP","Completed "..tostring(ac))return true,table.unpack(aA,2,aA.n)end;self:Log("ERROR",tostring(ac).." failed")self:HandleCrash(ac,aA[2])return false,aA[2]end;function k:RunOrThrow(ac,az)self:Log("STEP","Begin "..tostring(ac))local aA=table.pack(xpcall(az,function(aB)return debug.traceback(tostring(aB),2)end))if aA[1]==true then self:Log("STEP","Completed "..tostring(ac))return table.unpack(aA,2,aA.n)end;error(string.format("[%s] %s",tostring(ac),tostring(aA[2])),0)end;function k:LoadModule(aC,az)local ac=string.format("Module %s",tostring(aC))return self:RunOrThrow(ac,az)end;function k:IsCacheAllowed(aD)return false end;function k:WipeCacheAndRecache(aE)end;function k:GetValidCachedSource(aF,aG,aH,aI)return nil end;return k end
